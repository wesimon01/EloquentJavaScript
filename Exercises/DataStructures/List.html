<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>

</body>
</html>

<script>

    console.log(arrayToList([1, 2, 3]));
    console.log(nth(arrayToList([10, 20, 30]), 1));

    function arrayToList(array) {
        let list = null;
        for (let i = array.length - 1; i >= 0; i--) {
            list = { value: array[i], rest: list };
        }
        return list;
    }

    function listToArray(list) {
        let result = [];
        for (let node = list; node; node = node.rest) {
            array.push(node.value);
        }
        return result;
    }

    function prepend(value, list) {
        return { value, rest: list };
    }

    function nth(list, n) {
        if (!list) return undefined;
        else if (n === 0) return list.value;
        else return nth(list.rest, n - 1);
    }
    
</script>